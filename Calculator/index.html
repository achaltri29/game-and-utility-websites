<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-900 text-white flex items-center justify-center min-h-screen">
    
    <div class="absolute top-4 right-4">
        <button id="historyIcon" class="p-2 bg-gray-700 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
        </button>
    </div>

    <div id="calculator" class="calculator bg-gray-800 rounded-xl p-6 w-80">
        <input type="text" id="display" class="w-full mb-4 p-2 text-right text-2xl bg-gray-700 rounded text-white" readonly>
        <div class="grid grid-cols-4 gap-2">
            <button onclick="clearDisplay()" class="btn-calc bg-red-600 text-white rounded p-2 col-span-2">C</button>
            <button onclick="deleteLastChar()" class="btn-calc bg-gray-600 text-white rounded p-2">⌫</button>
            <button onclick="addDisplay('/')" class="btn-calc bg-blue-600 text-white rounded p-2">÷</button>
            
            <button onclick="addDisplay('7')" class="btn-calc bg-gray-700 rounded p-2">7</button>
            <button onclick="addDisplay('8')" class="btn-calc bg-gray-700 rounded p-2">8</button>
            <button onclick="addDisplay('9')" class="btn-calc bg-gray-700 rounded p-2">9</button>
            <button onclick="addDisplay('*')" class="btn-calc bg-blue-600 text-white rounded p-2">×</button>
            
            <button onclick="addDisplay('4')" class="btn-calc bg-gray-700 rounded p-2">4</button>
            <button onclick="addDisplay('5')" class="btn-calc bg-gray-700 rounded p-2">5</button>
            <button onclick="addDisplay('6')" class="btn-calc bg-gray-700 rounded p-2">6</button>
            <button onclick="addDisplay('-')" class="btn-calc bg-blue-600 text-white rounded p-2">-</button>
            
            <button onclick="addDisplay('1')" class="btn-calc bg-gray-700 rounded p-2">1</button>
            <button onclick="addDisplay('2')" class="btn-calc bg-gray-700 rounded p-2">2</button>
            <button onclick="addDisplay('3')" class="btn-calc bg-gray-700 rounded p-2">3</button>
            <button onclick="addDisplay('+')" class="btn-calc bg-blue-600 text-white rounded p-2">+</button>
            
            <button onclick="addDisplay('0')" class="btn-calc bg-gray-700 rounded p-2 col-span-2">0</button>
            <button onclick="addDisplay('.')" class="btn-calc bg-gray-700 rounded p-2">.</button>
            <button onclick="calculate()" class="btn-calc bg-green-600 text-white rounded p-2">=</button>
        </div>
    </div>

    <div id="historyPopup" class="flex items-center justify-center">
        <div class="bg-gray-800 p-6 rounded-xl w-96">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold">Calculation History</h3>
                <button onclick="toggleHistoryPopup()" class="text-white">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
            </div>
            <div id="historyContent" class="max-h-64 overflow-y-auto mb-4"></div>
            <button onclick="downloadHistory()" class="w-full bg-purple-600 text-white rounded p-2">
                Download History
            </button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
